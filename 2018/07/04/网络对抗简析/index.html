<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="google-site-verification" content="wCoNEhJPwtNoql5k0PfiYmMR-rgvliWvNZyGItcI3w0" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="WebSecurity," />





  <link rel="alternate" href="/atom.xml" title="Firehacker" type="application/atom+xml" />






<meta name="description" content="这学期的网络对抗原理课程，从企业与工程实践的的视角去看待与思考Web安全相关问题，以下是相关知识点简要归纳，便于查阅参考">
<meta name="keywords" content="WebSecurity">
<meta property="og:type" content="article">
<meta property="og:title" content="网络对抗简析">
<meta property="og:url" content="http://www.firehacker.top/2018/07/04/网络对抗简析/index.html">
<meta property="og:site_name" content="Firehacker">
<meta property="og:description" content="这学期的网络对抗原理课程，从企业与工程实践的的视角去看待与思考Web安全相关问题，以下是相关知识点简要归纳，便于查阅参考">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://pb2h7gmlc.bkt.clouddn.com/%E6%B8%97%E9%80%8F%E5%9C%BA%E6%99%AF.PNG">
<meta property="og:image" content="http://pb2h7gmlc.bkt.clouddn.com/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%9F%9F.PNG">
<meta property="og:image" content="http://par628i4r.bkt.clouddn.com/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8.png">
<meta property="og:updated_time" content="2018-09-19T03:00:30.634Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="网络对抗简析">
<meta name="twitter:description" content="这学期的网络对抗原理课程，从企业与工程实践的的视角去看待与思考Web安全相关问题，以下是相关知识点简要归纳，便于查阅参考">
<meta name="twitter:image" content="http://pb2h7gmlc.bkt.clouddn.com/%E6%B8%97%E9%80%8F%E5%9C%BA%E6%99%AF.PNG">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.firehacker.top/2018/07/04/网络对抗简析/"/>





  <title>网络对抗简析 | Firehacker</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>
	
	<a href="https://github.com/Hackerfire" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Firehacker</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-community">
          <a href="/community/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-users"></i> <br />
            
            社区
          </a>
        </li>
      
        
        <li class="menu-item menu-item-resources">
          <a href="/resources/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-eye"></i> <br />
            
            资源
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tools">
          <a href="/tools/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-wrench"></i> <br />
            
            工具
          </a>
        </li>
      
        
        <li class="menu-item menu-item-links">
          <a href="/links" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-link"></i> <br />
            
            友链
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.firehacker.top/2018/07/04/网络对抗简析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Firehacker">
      <meta itemprop="description" content="The more you konw，the less you konw you konw...">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Firehacker">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">网络对抗简析</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-04T21:50:26+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/0x02-原理浅析/" itemprop="url" rel="index">
                    <span itemprop="name">0x02 原理浅析</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/0x02-原理浅析/Web安全/" itemprop="url" rel="index">
                    <span itemprop="name">Web安全</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>这学期的网络对抗原理课程，从企业与工程实践的的视角去看待与思考Web安全相关问题，以下是相关知识点简要归纳，便于查阅参考<br><a id="more"></a></p>
</blockquote>
<h2 id="0x01-渗透场景"><a href="#0x01-渗透场景" class="headerlink" title="0x01 渗透场景"></a>0x01 渗透场景</h2><p><img src="http://pb2h7gmlc.bkt.clouddn.com/%E6%B8%97%E9%80%8F%E5%9C%BA%E6%99%AF.PNG" alt="pentest"></p>
<hr>
<h2 id="0x02-扫描"><a href="#0x02-扫描" class="headerlink" title="0x02 扫描"></a>0x02 扫描</h2><h3 id="信息收集目标"><a href="#信息收集目标" class="headerlink" title="信息收集目标"></a>信息收集目标</h3><ul>
<li>域名</li>
<li>站点</li>
<li>IP</li>
<li>接口</li>
<li>OS</li>
<li>业务</li>
<li>端口</li>
<li>第三方</li>
<li>服务</li>
<li>数据</li>
</ul>
<h3 id="域名收集（业务承载）"><a href="#域名收集（业务承载）" class="headerlink" title="域名收集（业务承载）"></a>域名收集（业务承载）</h3><ul>
<li>访问 + 抓包</li>
<li>Google，github</li>
<li>遍历 + 暴力破解</li>
<li>利用DNS服务器配置缺陷</li>
<li>从公司获得</li>
</ul>
<h3 id="收集IP（目标基本粒度之一）"><a href="#收集IP（目标基本粒度之一）" class="headerlink" title="收集IP（目标基本粒度之一）"></a>收集IP（目标基本粒度之一）</h3><ul>
<li>域名</li>
<li>IP段反推</li>
<li>特征</li>
<li>从公司获得</li>
</ul>
<h3 id="端口扫描（缺陷基本粒度之一）"><a href="#端口扫描（缺陷基本粒度之一）" class="headerlink" title="端口扫描（缺陷基本粒度之一）"></a>端口扫描（缺陷基本粒度之一）</h3><ul>
<li>端口号</li>
<li>类型</li>
<li>服务版本</li>
</ul>
<h3 id="扫描工具"><a href="#扫描工具" class="headerlink" title="扫描工具"></a>扫描工具</h3><ul>
<li>Nmap（原理）</li>
<li>NSE（框架）<ul>
<li><a href="https://blog.csdn.net/aspirationflow/article/details/7956928" target="_blank" rel="noopener">NSE BLOG</a></li>
</ul>
</li>
<li>ping/hping<ul>
<li><a href="https://blog.csdn.net/zhuying_linux/article/details/6770730" target="_blank" rel="noopener">ping原理</a></li>
</ul>
</li>
<li>telnet</li>
</ul>
<h3 id="扫描过程（发，收，判断特征，结论）"><a href="#扫描过程（发，收，判断特征，结论）" class="headerlink" title="扫描过程（发，收，判断特征，结论）"></a>扫描过程（发，收，判断特征，结论）</h3><ul>
<li>准备工作</li>
<li>目标调度</li>
<li>IP存活检查</li>
<li>端口扫描</li>
<li>版本探测</li>
<li>OS检测</li>
<li>进一步探测</li>
<li>结果整理</li>
</ul>
<h3 id="主机存活"><a href="#主机存活" class="headerlink" title="主机存活"></a>主机存活</h3><ul>
<li>Ping 　　　　-PE</li>
<li>Other ICMP  　-PP -PM</li>
<li>TCP SYN　　　 -PS</li>
<li>TCP ACK  　　-PA</li>
<li>UDP  　　　　　-PU</li>
<li>不判断  　　　　-P0 -Pn</li>
</ul>
<h3 id="端口扫描（端口状态）"><a href="#端口扫描（端口状态）" class="headerlink" title="端口扫描（端口状态）"></a>端口扫描（端口状态）</h3><ul>
<li>open</li>
<li>close</li>
<li>filtered</li>
<li>组合</li>
</ul>
<hr>
<h2 id="0x03-嗅探（网络流量数据分析）"><a href="#0x03-嗅探（网络流量数据分析）" class="headerlink" title="0x03 嗅探（网络流量数据分析）"></a>0x03 嗅探（网络流量数据分析）</h2><h3 id="狭义嗅探"><a href="#狭义嗅探" class="headerlink" title="狭义嗅探"></a>狭义嗅探</h3><ul>
<li>混杂模式</li>
<li>libpcap</li>
</ul>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ul>
<li>嗅探未加密的敏感信息</li>
<li>被动探测/收集信息</li>
<li>逆向</li>
<li>排查故障</li>
</ul>
<h3 id="BPF语法"><a href="#BPF语法" class="headerlink" title="BPF语法"></a>BPF语法</h3><ul>
<li>Berkeley Packet Filter</li>
</ul>
<h3 id="嗅探工具"><a href="#嗅探工具" class="headerlink" title="嗅探工具"></a>嗅探工具</h3><ul>
<li>wireshark（GUI抓包/分析工具-本地）</li>
<li>tcpdump（CLI抓包工具-目标服务器</li>
</ul>
<h3 id="广义抓包（上层-细节-限制）"><a href="#广义抓包（上层-细节-限制）" class="headerlink" title="广义抓包（上层/细节/限制）"></a>广义抓包（上层/细节/限制）</h3><ul>
<li>tcpflow</li>
<li>代理抓包（Paros,ZAP,Fildder）</li>
<li>浏览器抓包工具/插件（FireBug，Chrome,HTTP Watch）</li>
<li>手机抓包（真机配代理，模拟器配代理，AP抓包）</li>
</ul>
<h3 id="发包"><a href="#发包" class="headerlink" title="发包"></a>发包</h3><ul>
<li>图形化HTTP发包工具</li>
<li>curl</li>
<li>ping telnet nc</li>
<li>Nmap NSE</li>
<li>scapy</li>
</ul>
<h3 id="流还原（发包-）"><a href="#流还原（发包-）" class="headerlink" title="流还原（发包++）"></a>流还原（发包++）</h3><ul>
<li>tcpreplay（tcpprep,tcprewrite）</li>
<li>tcpcopy</li>
</ul>
<hr>
<h2 id="0x04-漏洞"><a href="#0x04-漏洞" class="headerlink" title="0x04 漏洞"></a>0x04 漏洞</h2><h3 id="1-DDoS与抗D"><a href="#1-DDoS与抗D" class="headerlink" title="1. DDoS与抗D"></a>1. DDoS与抗D</h3><h4 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h4><ul>
<li>分布式</li>
<li>拒绝服务</li>
<li>攻击</li>
</ul>
<h4 id="动机（趋向现实）"><a href="#动机（趋向现实）" class="headerlink" title="动机（趋向现实）"></a>动机（趋向现实）</h4><ul>
<li>研究，挑战，炫耀</li>
<li>打击对手</li>
<li>勒索</li>
<li>商务拓展</li>
</ul>
<h4 id="攻击途径"><a href="#攻击途径" class="headerlink" title="攻击途径"></a>攻击途径</h4><ul>
<li>直接崩溃</li>
<li>大流量阻塞</li>
<li>耗尽计算资源</li>
</ul>
<h4 id="流量放大"><a href="#流量放大" class="headerlink" title="流量放大"></a>流量放大</h4><ul>
<li>条件<ul>
<li>不检验来源</li>
<li>返回比请求大</li>
</ul>
</li>
<li>实例<ul>
<li>DNS</li>
<li>NTP</li>
<li>BT</li>
</ul>
</li>
</ul>
<h4 id="攻击源（僵尸网络为主）"><a href="#攻击源（僵尸网络为主）" class="headerlink" title="攻击源（僵尸网络为主）"></a>攻击源（僵尸网络为主）</h4><ul>
<li>肉鸡，僵尸网络</li>
<li>恶意插件</li>
<li>自建机房</li>
</ul>
<h4 id="攻击类型"><a href="#攻击类型" class="headerlink" title="攻击类型"></a>攻击类型</h4><ul>
<li>和缺陷相关的攻击</li>
<li>CC攻击</li>
<li>流量攻击</li>
</ul>
<h4 id="CC-过量访问（低于带宽，高于处理能力）"><a href="#CC-过量访问（低于带宽，高于处理能力）" class="headerlink" title="CC/过量访问（低于带宽，高于处理能力）"></a>CC/过量访问（低于带宽，高于处理能力）</h4><ul>
<li>单机qps测试与优化 -RD</li>
<li>业务估算与集群容量规划 -OPS</li>
<li>限流保障 -SA</li>
<li>限流规则优化 -SEC</li>
</ul>
<h4 id="流量清洗"><a href="#流量清洗" class="headerlink" title="流量清洗"></a>流量清洗</h4><ul>
<li>带宽储备-&gt;清洗-&gt;回源</li>
<li>四层清洗<ul>
<li>支持非HTTP流量</li>
<li>不需要SSL证书</li>
</ul>
</li>
<li>七层清洗<ul>
<li>支持防 CC</li>
<li>细粒度清洗</li>
</ul>
</li>
</ul>
<h4 id="防御方案"><a href="#防御方案" class="headerlink" title="防御方案"></a>防御方案</h4><ul>
<li>准备备用 IP（回源IP）</li>
<li>配置回源 IP ACL,白名单</li>
<li>配置供应商高防IP与回源策略</li>
<li>测试真实IP透传</li>
<li>制定预案和响应策略</li>
<li>演练</li>
<li>供应商选择与商务谈判</li>
</ul>
<h3 id="2-漏洞"><a href="#2-漏洞" class="headerlink" title="2. 漏洞"></a>2. 漏洞</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ul>
<li>软件漏洞 vs 缺陷</li>
<li>配置缺陷 vs 设计缺陷</li>
<li>通用软件漏洞 vs 应用漏洞</li>
</ul>
<h4 id="OWASP-TOP-10（13版）"><a href="#OWASP-TOP-10（13版）" class="headerlink" title="OWASP TOP 10（13版）"></a>OWASP TOP 10（13版）</h4><ul>
<li>注入</li>
<li>失效的身份认证和会话管理</li>
<li>跨站脚本（XSS）</li>
<li>不安全的直接对象引用</li>
<li>安全配置错误</li>
<li>敏感信息泄露</li>
<li>功能级访问控制缺失</li>
<li>跨站请求伪造（CSRF）</li>
<li>使用含有已知漏洞的组件</li>
<li>未验证的重定向和转发</li>
</ul>
<h4 id="注入"><a href="#注入" class="headerlink" title="注入"></a>注入</h4><ul>
<li>缓冲区溢出</li>
<li>命令行注入</li>
<li>Struts2的一系列OGNL注入</li>
<li>SQL注入</li>
<li>针对NoSQL的注入</li>
</ul>
<h4 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h4><ul>
<li>攻击向量<ul>
<li>闭合部分</li>
<li>注入部分</li>
<li>封闭部分</li>
</ul>
</li>
<li>注入技术<ul>
<li>Union query</li>
<li>boolean based</li>
<li>time base</li>
</ul>
</li>
<li>预防/避免<ul>
<li>过滤 / 转义</li>
<li>参数化 / Object Relation Mapping</li>
</ul>
</li>
</ul>
<h4 id="NoSQL注入"><a href="#NoSQL注入" class="headerlink" title="NoSQL注入"></a>NoSQL注入</h4><ul>
<li>结构溢出<ul>
<li>命令行注入</li>
</ul>
</li>
<li>与SQL注入类似<ul>
<li>缓冲区溢出</li>
<li>Struts2 OGNL</li>
</ul>
</li>
<li>直接从string到命令</li>
</ul>
<h4 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h4><ul>
<li>类型<ul>
<li>反射型</li>
<li>存储型</li>
<li>DOM Based XSS</li>
</ul>
</li>
<li>限制<ul>
<li>http_only</li>
<li>客户端限制</li>
<li>上下游的限制与弱化</li>
</ul>
</li>
<li>避免<ul>
<li>waf vs 代码</li>
<li>过滤 vs 转义</li>
<li>处理时 vs 展示时</li>
<li>拼 HTML 片段 vs 框架</li>
</ul>
</li>
</ul>
<h4 id="URL任意跳转（钓鱼）"><a href="#URL任意跳转（钓鱼）" class="headerlink" title="URL任意跳转（钓鱼）"></a>URL任意跳转（钓鱼）</h4><ul>
<li>白名单 VS 黑名单</li>
<li>绕过方法</li>
</ul>
<h4 id="未验证的转发（突破内网边界）"><a href="#未验证的转发（突破内网边界）" class="headerlink" title="未验证的转发（突破内网边界）"></a>未验证的转发（突破内网边界）</h4><ul>
<li>SSRF<ul>
<li>翻译 &amp; 解码</li>
<li>代理</li>
<li>服务路由</li>
</ul>
</li>
<li>任意文件读取</li>
<li>XXE</li>
</ul>
<h4 id="CSRF（跨站请求伪造）"><a href="#CSRF（跨站请求伪造）" class="headerlink" title="CSRF（跨站请求伪造）"></a>CSRF（跨站请求伪造）</h4><ul>
<li>投票刷票</li>
<li>转钱，蠕虫</li>
<li>不盗号而到达目的</li>
</ul>
<h4 id="水平权限漏洞"><a href="#水平权限漏洞" class="headerlink" title="水平权限漏洞"></a>水平权限漏洞</h4><ul>
<li>认为用户不会修改请求</li>
<li>修改密码</li>
<li>1元订单</li>
<li>测试利用简单，难以统一避免</li>
</ul>
<h4 id="访问控制缺失"><a href="#访问控制缺失" class="headerlink" title="访问控制缺失"></a>访问控制缺失</h4><ul>
<li>把钥匙藏在窗台下</li>
<li>未知路径</li>
<li>未知请求格式</li>
<li>各种空密码</li>
<li>开放目录访问</li>
</ul>
<h4 id="失效的身份认证和会话管理"><a href="#失效的身份认证和会话管理" class="headerlink" title="失效的身份认证和会话管理"></a>失效的身份认证和会话管理</h4><ul>
<li>被盗号</li>
<li>弱密码</li>
<li>无防爆破限制</li>
<li>Session伪造</li>
<li>Session泄露</li>
</ul>
<h4 id="其他安全问题"><a href="#其他安全问题" class="headerlink" title="其他安全问题"></a>其他安全问题</h4><ul>
<li>安全配置错误</li>
<li>使用含有已知漏洞的伪造</li>
</ul>
<h4 id="新型安全漏洞（TOP-10）"><a href="#新型安全漏洞（TOP-10）" class="headerlink" title="新型安全漏洞（TOP 10）"></a>新型安全漏洞（TOP 10）</h4><ul>
<li><a href="https://www.owasp.org/images/d/dc/OWASP_Top_10_2017_%E4%B8%AD%E6%96%87%E7%89%88v1.3.pdf" target="_blank" rel="noopener">2017 版</a></li>
<li>XXE（XML外部实体）</li>
<li>不安全的反序列化</li>
<li>不足的日志记录和监控</li>
</ul>
<hr>
<h2 id="0x05-防御体系"><a href="#0x05-防御体系" class="headerlink" title="0x05 防御体系"></a>0x05 防御体系</h2><h3 id="安全含义"><a href="#安全含义" class="headerlink" title="安全含义"></a>安全含义</h3><ul>
<li>Security vs Safety</li>
<li>Security vs Secrecy</li>
<li>Security vs Audit</li>
</ul>
<h3 id="两个维度"><a href="#两个维度" class="headerlink" title="两个维度"></a>两个维度</h3><ul>
<li>弱点<ul>
<li>漏洞</li>
<li>漏洞挖掘</li>
<li>配置不当</li>
<li>SDL</li>
<li>设计缺陷</li>
<li>ACL</li>
<li>防篡改</li>
</ul>
</li>
<li>攻击<ul>
<li>扫描</li>
<li>入侵检测</li>
<li>渗透</li>
<li>应急响应</li>
<li>DDoS / Anti-DDoS</li>
</ul>
</li>
</ul>
<h3 id="防御者优势"><a href="#防御者优势" class="headerlink" title="防御者优势"></a>防御者优势</h3><ul>
<li>输出大，量不足</li>
<li>更全更细致的信息</li>
<li>更强的控制权</li>
<li>改变系统 / 制定流程</li>
<li>专职工程师</li>
</ul>
<h3 id="防御体系构建"><a href="#防御体系构建" class="headerlink" title="防御体系构建"></a>防御体系构建</h3><ul>
<li>扬长避短</li>
<li>让系统更规范</li>
<li>加强对信息的掌握</li>
<li>安全评估</li>
<li>入侵检测</li>
<li>及时响应</li>
</ul>
<h3 id="企业架构"><a href="#企业架构" class="headerlink" title="企业架构"></a>企业架构</h3><ul>
<li>人员角色</li>
<li>网络架构与思维</li>
<li>应用架构与研发过程</li>
<li>业务与运营</li>
</ul>
<h3 id="威胁梳理"><a href="#威胁梳理" class="headerlink" title="威胁梳理"></a>威胁梳理</h3><ul>
<li>资产梳理</li>
<li>威胁建模</li>
</ul>
<h3 id="渗透路径的启示"><a href="#渗透路径的启示" class="headerlink" title="渗透路径的启示"></a>渗透路径的启示</h3><ul>
<li>网络访问的隔离与限制</li>
<li>漏洞的挖掘与利用</li>
<li>账号与权限</li>
</ul>
<h3 id="安全技术栈"><a href="#安全技术栈" class="headerlink" title="安全技术栈"></a>安全技术栈</h3><ul>
<li>客户端安全</li>
<li>网络与系统安全</li>
<li>应用安全</li>
<li>业务安全</li>
<li>数据安全</li>
</ul>
<hr>
<h2 id="0x06-网络安全域隔离与划分"><a href="#0x06-网络安全域隔离与划分" class="headerlink" title="0x06 网络安全域隔离与划分"></a>0x06 网络安全域隔离与划分</h2><h3 id="网络与系统安全"><a href="#网络与系统安全" class="headerlink" title="网络与系统安全"></a>网络与系统安全</h3><ul>
<li>安全域的隔离与划分</li>
<li>认证，授权与审计</li>
<li>边界入侵检测</li>
<li>主机安全与配置</li>
</ul>
<h3 id="安全域的划分与隔离"><a href="#安全域的划分与隔离" class="headerlink" title="安全域的划分与隔离"></a>安全域的划分与隔离</h3><p>   <img src="http://pb2h7gmlc.bkt.clouddn.com/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%9F%9F.PNG" alt="安全域"></p>
<h3 id="ACL与防火墙"><a href="#ACL与防火墙" class="headerlink" title="ACL与防火墙"></a>ACL与防火墙</h3><ul>
<li>五元组，N元组</li>
<li>包过滤防火墙与状态检测防火墙</li>
<li>黑名单与白名单</li>
<li>UTM 与 NGFW</li>
<li>四层负载均衡与Firewall</li>
</ul>
<h3 id="端口管理"><a href="#端口管理" class="headerlink" title="端口管理"></a>端口管理</h3><ul>
<li>规范-权限最小原则</li>
<li>端口扫描，配置梳理</li>
<li>维护和整改</li>
</ul>
<hr>
<h2 id="0x07-AAA与认证"><a href="#0x07-AAA与认证" class="headerlink" title="0x07 AAA与认证"></a>0x07 AAA与认证</h2><h3 id="AAA概念（城门的守卫者）"><a href="#AAA概念（城门的守卫者）" class="headerlink" title="AAA概念（城门的守卫者）"></a>AAA概念（城门的守卫者）</h3><ul>
<li>认证（Authentication）</li>
<li>授权（Authorization）</li>
<li>计费（Accounting）</li>
<li>审计（Audit）</li>
</ul>
<h3 id="应用场合（登陆，验证）"><a href="#应用场合（登陆，验证）" class="headerlink" title="应用场合（登陆，验证）"></a>应用场合（登陆，验证）</h3><ul>
<li>网络准入-有线，无限，VPN</li>
<li>服务器防伪</li>
<li>服务器访问</li>
<li>网站登录</li>
<li>远程服务器认证与登陆</li>
<li>设备使用</li>
<li>重要操作鉴权</li>
</ul>
<h3 id="认证"><a href="#认证" class="headerlink" title="认证"></a>认证</h3><ul>
<li>基于口令 </li>
<li>基于凭证</li>
<li>基于生物特征</li>
</ul>
<h3 id="口令（以哈希的形式存储在各种地方）"><a href="#口令（以哈希的形式存储在各种地方）" class="headerlink" title="口令（以哈希的形式存储在各种地方）"></a>口令（以哈希的形式存储在各种地方）</h3><ul>
<li>文本</li>
<li>数据库</li>
<li>Unix / Windows</li>
<li>LDAP / AD</li>
</ul>
<h3 id="凭证（没有口令的缺点，易丢失）"><a href="#凭证（没有口令的缺点，易丢失）" class="headerlink" title="凭证（没有口令的缺点，易丢失）"></a>凭证（没有口令的缺点，易丢失）</h3><ul>
<li>证书</li>
<li>Token</li>
<li>手机短信</li>
<li>邮箱</li>
<li>IP / MAC</li>
</ul>
<h3 id="生物特征（难以伪造，随身携带）"><a href="#生物特征（难以伪造，随身携带）" class="headerlink" title="生物特征（难以伪造，随身携带）"></a>生物特征（难以伪造，随身携带）</h3><ul>
<li>指纹</li>
<li>虹膜</li>
<li>人脸</li>
<li>习惯</li>
<li>步态</li>
</ul>
<h3 id="认证模式"><a href="#认证模式" class="headerlink" title="认证模式"></a>认证模式</h3><ul>
<li>PAP</li>
<li>CHAP</li>
</ul>
<h3 id="Kerberos认证协议"><a href="#Kerberos认证协议" class="headerlink" title="Kerberos认证协议"></a>Kerberos认证协议</h3><ul>
<li>认证</li>
<li>凭据</li>
<li>密钥交换</li>
</ul>
<h3 id="PKI（身份与公钥的绑定）"><a href="#PKI（身份与公钥的绑定）" class="headerlink" title="PKI（身份与公钥的绑定）"></a>PKI（身份与公钥的绑定）</h3><ul>
<li>CA</li>
<li>RA</li>
<li>证书库</li>
<li>CRL</li>
</ul>
<h3 id="EAP（可扩展认证协议）"><a href="#EAP（可扩展认证协议）" class="headerlink" title="EAP（可扩展认证协议）"></a>EAP（可扩展认证协议）</h3><ul>
<li>MD5</li>
<li>TLS</li>
<li>TTLS</li>
<li>PEAP</li>
<li>LEAP</li>
</ul>
<h3 id="RADIUS（认证方式的集成协议与服务）"><a href="#RADIUS（认证方式的集成协议与服务）" class="headerlink" title="RADIUS（认证方式的集成协议与服务）"></a>RADIUS（认证方式的集成协议与服务）</h3><ul>
<li>File</li>
<li>Unix</li>
<li>LDAP</li>
<li>OTP</li>
<li>EAP</li>
<li>TACACS</li>
</ul>
<h3 id="工具和软件"><a href="#工具和软件" class="headerlink" title="工具和软件"></a>工具和软件</h3><ul>
<li>OpenSSL</li>
<li>OpenLDAP</li>
<li>FreeRadius</li>
</ul>
<h3 id="双因子认证"><a href="#双因子认证" class="headerlink" title="双因子认证"></a>双因子认证</h3><ul>
<li>口令+</li>
<li>不同场合，不同选择与组合方式</li>
<li>双因子认证 vs 二次认证</li>
</ul>
<h3 id="认证典型场合"><a href="#认证典型场合" class="headerlink" title="认证典型场合"></a>认证典型场合</h3><ul>
<li>网络准入<ul>
<li>有线，无线，VPN</li>
<li>EAP</li>
<li>LDAP / AD</li>
<li>RADIUS</li>
<li>AC，交换机</li>
<li>WEP / WPA / WPA2</li>
</ul>
</li>
<li>SSH<ul>
<li>认证方式<ul>
<li>口令</li>
<li>PAM</li>
<li>证书</li>
<li>GSSAPI / Kerberos<ul>
<li>跳板机与堡垒机</li>
</ul>
</li>
</ul>
</li>
<li>网站登陆<ul>
<li>登陆验证</li>
<li>OPENID / OAUTH</li>
<li>SSO</li>
<li>Session共享</li>
</ul>
</li>
<li>二次认证<ul>
<li>业务安全</li>
<li>策略与应用场景</li>
<li>认证技术与方案</li>
<li>框架</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="口令相关的攻防"><a href="#口令相关的攻防" class="headerlink" title="口令相关的攻防"></a>口令相关的攻防</h3><ul>
<li>弱密码/暴力破解/刷库/钓鱼</li>
<li>防机器人 - 验证码</li>
<li>围绕次数做的限制</li>
<li>分析与检测</li>
<li>口令的存储与传输</li>
</ul>
<h3 id="验证码缺陷"><a href="#验证码缺陷" class="headerlink" title="验证码缺陷"></a>验证码缺陷</h3><ul>
<li>OCR</li>
<li>熵不够</li>
<li>触发时更新 vs 验证时更新</li>
<li>答案外泄</li>
<li>绑定session vs 绑定事物</li>
<li>使用错误导致验证码不起作用</li>
</ul>
<h3 id="鉴权"><a href="#鉴权" class="headerlink" title="鉴权"></a>鉴权</h3><ul>
<li>映射：账号-&gt;操作-&gt;Action</li>
<li>基于账号 vs 基于群组 / 角色</li>
</ul>
<h3 id="审计（发现-amp-追溯）"><a href="#审计（发现-amp-追溯）" class="headerlink" title="审计（发现 &amp; 追溯）"></a>审计（发现 &amp; 追溯）</h3><ul>
<li>事前：风险评估，资格评估</li>
<li>事中：入侵检测</li>
<li>事后：追溯 + 制度</li>
</ul>
<h3 id="日志记录"><a href="#日志记录" class="headerlink" title="日志记录"></a>日志记录</h3><ul>
<li>认证记录</li>
<li>鉴权记录</li>
<li>应用层 / 业务记录</li>
<li>异常记录</li>
</ul>
<h3 id="常见日志（配置-读取）"><a href="#常见日志（配置-读取）" class="headerlink" title="常见日志（配置/读取）"></a>常见日志（配置/读取）</h3><ul>
<li>syslog（syslog-ng,rsyslog）</li>
<li>audit（auditd）</li>
<li>access log / error log</li>
<li>应用日志：log4j</li>
</ul>
<h3 id="文本日志分析"><a href="#文本日志分析" class="headerlink" title="文本日志分析"></a>文本日志分析</h3><ul>
<li>awk</li>
<li>sed</li>
<li>grep</li>
<li>sort</li>
<li>uniq</li>
<li>wc</li>
</ul>
<h3 id="日志收集与预处理（收集，切割，格式化）"><a href="#日志收集与预处理（收集，切割，格式化）" class="headerlink" title="日志收集与预处理（收集，切割，格式化）"></a>日志收集与预处理（收集，切割，格式化）</h3><ul>
<li>Flume</li>
<li>Logstash</li>
</ul>
<h3 id="日志分析（查找，统计）"><a href="#日志分析（查找，统计）" class="headerlink" title="日志分析（查找，统计）"></a>日志分析（查找，统计）</h3><ul>
<li>ElasticSearch Logstash Kibana</li>
<li>Splunk</li>
<li>Hadoop + Hive</li>
<li>Storm</li>
</ul>
<hr>
<h2 id="0x08-入侵检测"><a href="#0x08-入侵检测" class="headerlink" title="0x08 入侵检测"></a>0x08 入侵检测</h2><h3 id="入侵检测（识别-amp-发现）"><a href="#入侵检测（识别-amp-发现）" class="headerlink" title="入侵检测（识别 &amp; 发现）"></a>入侵检测（识别 &amp; 发现）</h3><ul>
<li>攻击</li>
<li>潜在威胁</li>
</ul>
<h3 id="与安全体系的关系（受益-amp-补充）"><a href="#与安全体系的关系（受益-amp-补充）" class="headerlink" title="与安全体系的关系（受益 &amp; 补充）"></a>与安全体系的关系（受益 &amp; 补充）</h3><ul>
<li>收敛</li>
<li>规范</li>
</ul>
<h3 id="部署位置"><a href="#部署位置" class="headerlink" title="部署位置"></a>部署位置</h3><ul>
<li>流量汇聚处</li>
<li>AAA</li>
<li>主机</li>
<li>日志汇聚处</li>
</ul>
<h3 id="检测方式（黑白名单）"><a href="#检测方式（黑白名单）" class="headerlink" title="检测方式（黑白名单）"></a>检测方式（黑白名单）</h3><ul>
<li>误用检测 - 黑明白</li>
<li>异常检测 - 白名单</li>
</ul>
<h3 id="检测技术"><a href="#检测技术" class="headerlink" title="检测技术"></a>检测技术</h3><ul>
<li>规则 - 经验转化，专家系统</li>
<li>模型 - 科学与玄学</li>
</ul>
<h3 id="实时性（权衡与妥协）"><a href="#实时性（权衡与妥协）" class="headerlink" title="实时性（权衡与妥协）"></a>实时性（权衡与妥协）</h3><ul>
<li>实时</li>
<li>准实时</li>
<li>事后</li>
</ul>
<h3 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h3><ul>
<li>联动</li>
<li>告警（工单，线索）</li>
</ul>
<h3 id="实例（典型与广义的）"><a href="#实例（典型与广义的）" class="headerlink" title="实例（典型与广义的）"></a>实例（典型与广义的）</h3><ul>
<li>Snort</li>
<li>WAF - Modsecurity Lua</li>
<li>Agent - OSSEC</li>
<li>日志分析系统</li>
</ul>
<h3 id="ModSecurity"><a href="#ModSecurity" class="headerlink" title="ModSecurity"></a>ModSecurity</h3><ul>
<li>5个阶段<ul>
<li>Phase Request Headers</li>
<li>Phase Request Body</li>
<li>Phase Response Headers</li>
<li>Phase Response Body</li>
<li>Phase Logging</li>
</ul>
</li>
<li>手册和CRS<ul>
<li>Configuration Directives</li>
<li>Variables</li>
<li>Transformation functions</li>
<li>Operators</li>
<li>Actions</li>
</ul>
</li>
</ul>
<h3 id="OSSEC"><a href="#OSSEC" class="headerlink" title="OSSEC"></a>OSSEC</h3><ul>
<li>安全Agent HIDS</li>
<li>配置手册<ul>
<li>Log monitoring/analysis</li>
<li>Syscheck</li>
<li>Rootcheck manual</li>
<li>Rules and Decoders</li>
<li>Active Response</li>
</ul>
</li>
</ul>
<h3 id="蜜罐（另辟蹊径）"><a href="#蜜罐（另辟蹊径）" class="headerlink" title="蜜罐（另辟蹊径）"></a>蜜罐（另辟蹊径）</h3><ul>
<li>与狭义IDS的区别<ul>
<li>谁迷惑谁</li>
<li>自带关键信息量</li>
</ul>
</li>
<li>面临问题<ul>
<li>部署</li>
<li>灵活性</li>
<li>响应</li>
</ul>
</li>
</ul>
<hr>
<h2 id="0x09-数据安全"><a href="#0x09-数据安全" class="headerlink" title="0x09 数据安全"></a>0x09 数据安全</h2><h3 id="问题现状"><a href="#问题现状" class="headerlink" title="问题现状"></a>问题现状</h3><ul>
<li>业务数据泄露<ul>
<li>投诉</li>
<li>案件</li>
<li>公关事件</li>
</ul>
</li>
<li>公司机密泄露<ul>
<li>员工通信录</li>
<li>内部邮件，论坛</li>
<li>战略机密，谈判底线，高管行踪</li>
</ul>
</li>
</ul>
<h3 id="解决（堵住缺口）"><a href="#解决（堵住缺口）" class="headerlink" title="解决（堵住缺口）"></a>解决（堵住缺口）</h3><ul>
<li>放渗透/防入侵</li>
<li>加密存储</li>
<li>增强AAA</li>
<li>水印</li>
<li>保密制度</li>
</ul>
<h3 id="实际情况"><a href="#实际情况" class="headerlink" title="实际情况"></a>实际情况</h3><h4 id="问题发生时"><a href="#问题发生时" class="headerlink" title="问题发生时"></a>问题发生时</h4><ul>
<li>猜疑</li>
<li>碰运气</li>
<li>抓垫背，波脏水</li>
<li>被动解释</li>
</ul>
<h4 id="问题发生前"><a href="#问题发生前" class="headerlink" title="问题发生前"></a>问题发生前</h4><ul>
<li>过度自信</li>
<li>过度保守</li>
<li>不愿意付出代价</li>
<li>拍脑袋，想当然</li>
</ul>
<h4 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h4><ul>
<li>不科学，不系统，不清晰</li>
<li>有什么数据？</li>
<li>数据的意义价值？</li>
<li>如何保护数据？</li>
<li>现有的安全措施和保护数据之间的关系？</li>
<li>必要性和代价？</li>
</ul>
<h4 id="特点和难点"><a href="#特点和难点" class="headerlink" title="特点和难点"></a>特点和难点</h4><ul>
<li>纵深防御</li>
<li>没有独当一面</li>
<li>没有立竿见影</li>
<li>大部分不是技术的坑</li>
<li>主要目标不是外部而是内部</li>
<li>建立在已有防御体系之上</li>
<li>独立于已有防御技术和手段</li>
</ul>
<h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><ul>
<li>数据梳理</li>
<li>数据定级/打标</li>
<li>针对数据级别的安全规范矩阵</li>
<li>针对规则，控制增量</li>
<li>实例评估，整改，消化存量</li>
</ul>
<h4 id="数据级别（抽象数据划分）"><a href="#数据级别（抽象数据划分）" class="headerlink" title="数据级别（抽象数据划分）"></a>数据级别（抽象数据划分）</h4><ul>
<li>类型维度<ul>
<li>公司数据（B）</li>
<li>用户数据（C）</li>
</ul>
</li>
<li>级别维度<ul>
<li>公开（1）</li>
<li>共享（2）</li>
<li>秘密（3）</li>
<li>机密（4）</li>
</ul>
</li>
<li>数据生命周期<ul>
<li>生成/采集</li>
<li>传输</li>
<li>存储</li>
<li>读取</li>
<li>展示</li>
<li>转移</li>
<li>销毁</li>
</ul>
</li>
<li>典型场景<ul>
<li>用户机密数据不能存储</li>
<li>用户机密信息的采集必须加密</li>
<li>用户秘密数据不能在前台展示</li>
<li>用户机密数据不能在后台展示</li>
<li>用户秘密数据必须通过认证和授权后才能被用户自己访问</li>
<li>用户共享信息必须经过用户授权才能共享给其他用户</li>
<li>公司秘密信息必须经过认证和授权才能访问 , 且必须有记录</li>
<li>公司秘密信息的转移必须经过审批</li>
<li>公司共享信息在展示时要加水印</li>
<li>公司秘密数据不得存储在公司以外的网络或介质中</li>
<li>公司贡献数据必须经过审批才能对外公开    </li>
</ul>
</li>
</ul>
<h4 id="处置方式"><a href="#处置方式" class="headerlink" title="处置方式"></a>处置方式</h4><ul>
<li>手段<ul>
<li>明文，加密</li>
<li>哈希</li>
<li>水印</li>
<li>AAA</li>
</ul>
</li>
<li>级别变化<ul>
<li>打星，脱敏</li>
<li>聚合</li>
</ul>
</li>
</ul>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li>避免在具体细节处纠缠—— 自上而下推动</li>
<li>避免描述和现状不一致—— 控制权</li>
<li>考虑现状和可行性—— 不给自己挖坑  </li>
</ul>
<hr>
<h2 id="0x0A-应用安全"><a href="#0x0A-应用安全" class="headerlink" title="0x0A 应用安全"></a>0x0A 应用安全</h2><h3 id="应用开发（代码）"><a href="#应用开发（代码）" class="headerlink" title="应用开发（代码）"></a>应用开发（代码）</h3><ul>
<li>MVC<ul>
<li>View Controller Modle</li>
</ul>
</li>
<li>RESTful<ul>
<li>前端渲染</li>
</ul>
</li>
<li>J2EE<ul>
<li>客户层 表示层 业务逻辑层 数据层</li>
</ul>
</li>
</ul>
<h3 id="容器与Filter-安全逻辑点"><a href="#容器与Filter-安全逻辑点" class="headerlink" title="容器与Filter(安全逻辑点)"></a>容器与Filter(安全逻辑点)</h3><ul>
<li>http 服务器 - Module<ul>
<li>Apache 、 Nginx</li>
</ul>
</li>
<li>容器 - 容器 Filter<ul>
<li>JBoss 、 Tomcat 、 Jetty</li>
</ul>
</li>
<li>开发框架 Filter 、 Servlet Filter</li>
</ul>
<h3 id="其它关键点（针对性）"><a href="#其它关键点（针对性）" class="headerlink" title="其它关键点（针对性）"></a>其它关键点（针对性）</h3><ul>
<li>Web层渲染时</li>
<li>AJAX 请求生成，JSON结果生成</li>
<li>数据层 ORM</li>
</ul>
<h3 id="中间件（大型网站架构）"><a href="#中间件（大型网站架构）" class="headerlink" title="中间件（大型网站架构）"></a>中间件（大型网站架构）</h3><ul>
<li>远程同步调用</li>
<li>异步通知 、消息总线</li>
<li>分布式缓存</li>
<li>分布式数据库</li>
<li>集中配置管理</li>
<li>统一的应用日志采集方案</li>
<li>数据分析平台</li>
</ul>
<h3 id="开发框架（决定应用安全难度）"><a href="#开发框架（决定应用安全难度）" class="headerlink" title="开发框架（决定应用安全难度）"></a>开发框架（决定应用安全难度）</h3><ul>
<li>有的地方有、有的地方没有</li>
<li>有的就弄清楚</li>
<li>没有的要联合架构师来推动（然而 … ）</li>
<li>读懂框架，便于白盒检查和应急</li>
<li>将安全措施融入到框架中</li>
</ul>
<h3 id="常见框架-软件"><a href="#常见框架-软件" class="headerlink" title="常见框架/软件"></a>常见框架/软件</h3><ul>
<li>pring Struts Hibernate</li>
<li>Spring MVC</li>
<li>ASP.NET</li>
<li>Django</li>
<li>ThinkPHP 等一众PHP框架</li>
<li>AngularJS 等一众前端</li>
</ul>
<h3 id="漏洞挖掘（多信息）"><a href="#漏洞挖掘（多信息）" class="headerlink" title="漏洞挖掘（多信息）"></a>漏洞挖掘（多信息）</h3><ul>
<li>目标系统</li>
<li>文档</li>
<li>代码</li>
<li>测试环境</li>
<li>人</li>
<li>日志</li>
<li>攻击者提供的线索</li>
</ul>
<h3 id="Fuzz-替换为攻击向量"><a href="#Fuzz-替换为攻击向量" class="headerlink" title="Fuzz(替换为攻击向量)"></a>Fuzz(替换为攻击向量)</h3><ul>
<li>代理抓包</li>
<li>日志</li>
<li>测试代理</li>
</ul>
<h3 id="安全开发"><a href="#安全开发" class="headerlink" title="安全开发"></a>安全开发</h3><ul>
<li>安全框架 - 告诉开发该怎么做</li>
<li>安全编码规范 - 告诉开发必须这么做</li>
<li>白盒审计 - 找出不这么做的</li>
</ul>
<p><img src="http://par628i4r.bkt.clouddn.com/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8.png" alt="SDL"></p>
<h3 id="SDL（软件开发周期）"><a href="#SDL（软件开发周期）" class="headerlink" title="SDL（软件开发周期）"></a>SDL（软件开发周期）</h3><ul>
<li>需求评审</li>
<li>设计评审</li>
<li>技术评审</li>
<li>测试用例评审</li>
<li>开发阶段</li>
<li>测试阶段</li>
<li>上线阶段</li>
<li>运维运营阶段</li>
<li>下线</li>
</ul>
<hr>
<h2 id="0x0B-密码学应用"><a href="#0x0B-密码学应用" class="headerlink" title="0x0B 密码学应用"></a>0x0B 密码学应用</h2><h3 id="现代密码学"><a href="#现代密码学" class="headerlink" title="现代密码学"></a>现代密码学</h3><ul>
<li>安全性在于密钥</li>
<li>民科密码</li>
<li>现代密码</li>
</ul>
<h3 id="分类（区别-amp-差别）"><a href="#分类（区别-amp-差别）" class="headerlink" title="分类（区别&amp;差别）"></a>分类（区别&amp;差别）</h3><ul>
<li>密码 vs 哈希</li>
<li>对称密码 vs 非对称密码</li>
<li>流密码 vs 分组密码</li>
<li>RSA vs ECC</li>
</ul>
<h3 id="常见加密算法（缺陷-场景）"><a href="#常见加密算法（缺陷-场景）" class="headerlink" title="常见加密算法（缺陷/场景）"></a>常见加密算法（缺陷/场景）</h3><ul>
<li>RC4（不安全）</li>
<li>DES(不安全)，3DES</li>
<li>AES</li>
<li>RSA</li>
<li>商密</li>
</ul>
<h3 id="分组密码模式（解决什么问题-优缺点）"><a href="#分组密码模式（解决什么问题-优缺点）" class="headerlink" title="分组密码模式（解决什么问题/优缺点）"></a>分组密码模式（解决什么问题/优缺点）</h3><h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><ul>
<li>ECB</li>
<li>CBC</li>
<li>CFB</li>
<li>OFB</li>
<li>CTR</li>
</ul>
<h4 id="填充与IV"><a href="#填充与IV" class="headerlink" title="填充与IV"></a>填充与IV</h4><ul>
<li>填充<ul>
<li>ANSIX923，ISO10126，PKCS5/7</li>
</ul>
</li>
<li>IV使用原则<ul>
<li>不重复，不需要保密</li>
</ul>
</li>
</ul>
<h3 id="Padding-Oracle"><a href="#Padding-Oracle" class="headerlink" title="Padding Oracle"></a>Padding Oracle</h3><ul>
<li>CBC</li>
<li>IV可控</li>
<li>结果差异提供了1bit的信息</li>
</ul>
<h3 id="哈希算法（单向不可逆）"><a href="#哈希算法（单向不可逆）" class="headerlink" title="哈希算法（单向不可逆）"></a>哈希算法（单向不可逆）</h3><ul>
<li>MD5,SHA1(不安全)</li>
<li>SHA256,SHA512</li>
</ul>
<h3 id="消息认证码（MAC不等同签名）"><a href="#消息认证码（MAC不等同签名）" class="headerlink" title="消息认证码（MAC不等同签名）"></a>消息认证码（MAC不等同签名）</h3><ul>
<li>Epr(p)</li>
<li>Epsk(p)</li>
<li>H(p+k)</li>
<li>p = msg+timestamp(+rand)</li>
</ul>
<h3 id="加密传输"><a href="#加密传输" class="headerlink" title="加密传输"></a>加密传输</h3><ul>
<li>DH会话密钥协商</li>
<li>分组加密建立隧道</li>
<li>SSL</li>
<li>IPSec</li>
<li>SSH</li>
</ul>
<h3 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h3><ul>
<li>基于凭据的认证</li>
<li>基于挑战的认证</li>
<li>预共享密钥 &amp; 公钥算法</li>
</ul>
<hr>
<h2 id="0x0C-业务安全"><a href="#0x0C-业务安全" class="headerlink" title="0x0C 业务安全"></a>0x0C 业务安全</h2><h3 id="三类场景"><a href="#三类场景" class="headerlink" title="三类场景"></a>三类场景</h3><ul>
<li>军队 vs 军队<ul>
<li>渗透，扫描，DDOS</li>
<li>拼技术</li>
</ul>
</li>
<li>警察 vs 罪犯<ul>
<li>盗号，欺诈，黑帽SEO，刷榜刷量</li>
<li>拼规则</li>
</ul>
</li>
<li>城管 vs 小贩<ul>
<li>垃圾信息，爬取，薅羊毛</li>
<li>拼运营 </li>
</ul>
</li>
</ul>
<h3 id="基于规则（朴素方法）"><a href="#基于规则（朴素方法）" class="headerlink" title="基于规则（朴素方法）"></a>基于规则（朴素方法）</h3><ul>
<li>账号安全</li>
<li>资金风控</li>
<li>搜索反作弊</li>
<li>广告反作弊</li>
<li>反垃圾信息</li>
</ul>
<h3 id="基于模型（生成规则，升华规则）"><a href="#基于模型（生成规则，升华规则）" class="headerlink" title="基于模型（生成规则，升华规则）"></a>基于模型（生成规则，升华规则）</h3><ul>
<li>统计分析</li>
<li>模式识别</li>
<li>人工智能</li>
</ul>
<h3 id="逃逸机制"><a href="#逃逸机制" class="headerlink" title="逃逸机制"></a>逃逸机制</h3><ul>
<li>验证码</li>
<li>提高认证级别<ul>
<li>短信，邮件，电话，证件…</li>
</ul>
</li>
<li>降级降权</li>
<li>基于时间的解禁策略</li>
</ul>
<h3 id="系统实现（框架）"><a href="#系统实现（框架）" class="headerlink" title="系统实现（框架）"></a>系统实现（框架）</h3><ul>
<li>打点机制</li>
<li>规则引擎</li>
<li>分析引擎</li>
<li>处置模块</li>
<li>效果分析</li>
</ul>
<h3 id="对规则的保护（易忽视的点）"><a href="#对规则的保护（易忽视的点）" class="headerlink" title="对规则的保护（易忽视的点）"></a>对规则的保护（易忽视的点）</h3><ul>
<li>保密</li>
<li>组合使用</li>
<li>检测和出发分离</li>
</ul>
<h3 id="非典型业务安全"><a href="#非典型业务安全" class="headerlink" title="非典型业务安全"></a>非典型业务安全</h3><ul>
<li>客户端等效原则</li>
<li>用户挟持原则</li>
<li>新用户原则</li>
<li>鱼死网破法</li>
</ul>
<h3 id="迷惑（进一步保护规则）"><a href="#迷惑（进一步保护规则）" class="headerlink" title="迷惑（进一步保护规则）"></a>迷惑（进一步保护规则）</h3><ul>
<li>不中奖</li>
<li>假数据</li>
<li>细粒度的信息展示</li>
</ul>
<h3 id="评价指标（针对不同手段）"><a href="#评价指标（针对不同手段）" class="headerlink" title="评价指标（针对不同手段）"></a>评价指标（针对不同手段）</h3><ul>
<li>准确率</li>
<li>技术强度</li>
<li>迷惑程度</li>
<li>实施技术</li>
<li>灵活性</li>
</ul>
<h3 id="迷惑与陷阱（主动出击，人为制造差异）"><a href="#迷惑与陷阱（主动出击，人为制造差异）" class="headerlink" title="迷惑与陷阱（主动出击，人为制造差异）"></a>迷惑与陷阱（主动出击，人为制造差异）</h3><ul>
<li>js陷阱</li>
<li>位置信息</li>
<li>顺序与频率</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/WebSecurity/" rel="tag"><i class="fa fa-tag"></i> WebSecurity</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/07/03/web安全观/" rel="next" title="Web安全观">
                <i class="fa fa-chevron-left"></i> Web安全观
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/07/04/mysql语法浅析/" rel="prev" title="mysql语法浅析">
                mysql语法浅析 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Firehacker</p>
              <p class="site-description motion-element" itemprop="description">The more you konw，the less you konw you konw...</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Hackerfire" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:firehafcker@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://firehacker.top/SecBook" target="_blank" title="Gitbook">
                      
                        <i class="fa fa-fw fa-book"></i>Gitbook</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01-渗透场景"><span class="nav-number">1.</span> <span class="nav-text">0x01 渗透场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x02-扫描"><span class="nav-number">2.</span> <span class="nav-text">0x02 扫描</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#信息收集目标"><span class="nav-number">2.1.</span> <span class="nav-text">信息收集目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#域名收集（业务承载）"><span class="nav-number">2.2.</span> <span class="nav-text">域名收集（业务承载）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#收集IP（目标基本粒度之一）"><span class="nav-number">2.3.</span> <span class="nav-text">收集IP（目标基本粒度之一）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#端口扫描（缺陷基本粒度之一）"><span class="nav-number">2.4.</span> <span class="nav-text">端口扫描（缺陷基本粒度之一）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#扫描工具"><span class="nav-number">2.5.</span> <span class="nav-text">扫描工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#扫描过程（发，收，判断特征，结论）"><span class="nav-number">2.6.</span> <span class="nav-text">扫描过程（发，收，判断特征，结论）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#主机存活"><span class="nav-number">2.7.</span> <span class="nav-text">主机存活</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#端口扫描（端口状态）"><span class="nav-number">2.8.</span> <span class="nav-text">端口扫描（端口状态）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x03-嗅探（网络流量数据分析）"><span class="nav-number">3.</span> <span class="nav-text">0x03 嗅探（网络流量数据分析）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#狭义嗅探"><span class="nav-number">3.1.</span> <span class="nav-text">狭义嗅探</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#应用场景"><span class="nav-number">3.2.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BPF语法"><span class="nav-number">3.3.</span> <span class="nav-text">BPF语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#嗅探工具"><span class="nav-number">3.4.</span> <span class="nav-text">嗅探工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#广义抓包（上层-细节-限制）"><span class="nav-number">3.5.</span> <span class="nav-text">广义抓包（上层/细节/限制）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#发包"><span class="nav-number">3.6.</span> <span class="nav-text">发包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#流还原（发包-）"><span class="nav-number">3.7.</span> <span class="nav-text">流还原（发包++）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x04-漏洞"><span class="nav-number">4.</span> <span class="nav-text">0x04 漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-DDoS与抗D"><span class="nav-number">4.1.</span> <span class="nav-text">1. DDoS与抗D</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#含义"><span class="nav-number">4.1.1.</span> <span class="nav-text">含义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动机（趋向现实）"><span class="nav-number">4.1.2.</span> <span class="nav-text">动机（趋向现实）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#攻击途径"><span class="nav-number">4.1.3.</span> <span class="nav-text">攻击途径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#流量放大"><span class="nav-number">4.1.4.</span> <span class="nav-text">流量放大</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#攻击源（僵尸网络为主）"><span class="nav-number">4.1.5.</span> <span class="nav-text">攻击源（僵尸网络为主）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#攻击类型"><span class="nav-number">4.1.6.</span> <span class="nav-text">攻击类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CC-过量访问（低于带宽，高于处理能力）"><span class="nav-number">4.1.7.</span> <span class="nav-text">CC/过量访问（低于带宽，高于处理能力）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#流量清洗"><span class="nav-number">4.1.8.</span> <span class="nav-text">流量清洗</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#防御方案"><span class="nav-number">4.1.9.</span> <span class="nav-text">防御方案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-漏洞"><span class="nav-number">4.2.</span> <span class="nav-text">2. 漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概念"><span class="nav-number">4.2.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OWASP-TOP-10（13版）"><span class="nav-number">4.2.2.</span> <span class="nav-text">OWASP TOP 10（13版）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#注入"><span class="nav-number">4.2.3.</span> <span class="nav-text">注入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL注入"><span class="nav-number">4.2.4.</span> <span class="nav-text">SQL注入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NoSQL注入"><span class="nav-number">4.2.5.</span> <span class="nav-text">NoSQL注入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XSS"><span class="nav-number">4.2.6.</span> <span class="nav-text">XSS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#URL任意跳转（钓鱼）"><span class="nav-number">4.2.7.</span> <span class="nav-text">URL任意跳转（钓鱼）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#未验证的转发（突破内网边界）"><span class="nav-number">4.2.8.</span> <span class="nav-text">未验证的转发（突破内网边界）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSRF（跨站请求伪造）"><span class="nav-number">4.2.9.</span> <span class="nav-text">CSRF（跨站请求伪造）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#水平权限漏洞"><span class="nav-number">4.2.10.</span> <span class="nav-text">水平权限漏洞</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#访问控制缺失"><span class="nav-number">4.2.11.</span> <span class="nav-text">访问控制缺失</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#失效的身份认证和会话管理"><span class="nav-number">4.2.12.</span> <span class="nav-text">失效的身份认证和会话管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他安全问题"><span class="nav-number">4.2.13.</span> <span class="nav-text">其他安全问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#新型安全漏洞（TOP-10）"><span class="nav-number">4.2.14.</span> <span class="nav-text">新型安全漏洞（TOP 10）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x05-防御体系"><span class="nav-number">5.</span> <span class="nav-text">0x05 防御体系</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安全含义"><span class="nav-number">5.1.</span> <span class="nav-text">安全含义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#两个维度"><span class="nav-number">5.2.</span> <span class="nav-text">两个维度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#防御者优势"><span class="nav-number">5.3.</span> <span class="nav-text">防御者优势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#防御体系构建"><span class="nav-number">5.4.</span> <span class="nav-text">防御体系构建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#企业架构"><span class="nav-number">5.5.</span> <span class="nav-text">企业架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#威胁梳理"><span class="nav-number">5.6.</span> <span class="nav-text">威胁梳理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#渗透路径的启示"><span class="nav-number">5.7.</span> <span class="nav-text">渗透路径的启示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全技术栈"><span class="nav-number">5.8.</span> <span class="nav-text">安全技术栈</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x06-网络安全域隔离与划分"><span class="nav-number">6.</span> <span class="nav-text">0x06 网络安全域隔离与划分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#网络与系统安全"><span class="nav-number">6.1.</span> <span class="nav-text">网络与系统安全</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全域的划分与隔离"><span class="nav-number">6.2.</span> <span class="nav-text">安全域的划分与隔离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ACL与防火墙"><span class="nav-number">6.3.</span> <span class="nav-text">ACL与防火墙</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#端口管理"><span class="nav-number">6.4.</span> <span class="nav-text">端口管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x07-AAA与认证"><span class="nav-number">7.</span> <span class="nav-text">0x07 AAA与认证</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AAA概念（城门的守卫者）"><span class="nav-number">7.1.</span> <span class="nav-text">AAA概念（城门的守卫者）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#应用场合（登陆，验证）"><span class="nav-number">7.2.</span> <span class="nav-text">应用场合（登陆，验证）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#认证"><span class="nav-number">7.3.</span> <span class="nav-text">认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#口令（以哈希的形式存储在各种地方）"><span class="nav-number">7.4.</span> <span class="nav-text">口令（以哈希的形式存储在各种地方）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#凭证（没有口令的缺点，易丢失）"><span class="nav-number">7.5.</span> <span class="nav-text">凭证（没有口令的缺点，易丢失）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生物特征（难以伪造，随身携带）"><span class="nav-number">7.6.</span> <span class="nav-text">生物特征（难以伪造，随身携带）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#认证模式"><span class="nav-number">7.7.</span> <span class="nav-text">认证模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Kerberos认证协议"><span class="nav-number">7.8.</span> <span class="nav-text">Kerberos认证协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PKI（身份与公钥的绑定）"><span class="nav-number">7.9.</span> <span class="nav-text">PKI（身份与公钥的绑定）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EAP（可扩展认证协议）"><span class="nav-number">7.10.</span> <span class="nav-text">EAP（可扩展认证协议）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RADIUS（认证方式的集成协议与服务）"><span class="nav-number">7.11.</span> <span class="nav-text">RADIUS（认证方式的集成协议与服务）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#工具和软件"><span class="nav-number">7.12.</span> <span class="nav-text">工具和软件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#双因子认证"><span class="nav-number">7.13.</span> <span class="nav-text">双因子认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#认证典型场合"><span class="nav-number">7.14.</span> <span class="nav-text">认证典型场合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#口令相关的攻防"><span class="nav-number">7.15.</span> <span class="nav-text">口令相关的攻防</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#验证码缺陷"><span class="nav-number">7.16.</span> <span class="nav-text">验证码缺陷</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#鉴权"><span class="nav-number">7.17.</span> <span class="nav-text">鉴权</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#审计（发现-amp-追溯）"><span class="nav-number">7.18.</span> <span class="nav-text">审计（发现 &amp; 追溯）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日志记录"><span class="nav-number">7.19.</span> <span class="nav-text">日志记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见日志（配置-读取）"><span class="nav-number">7.20.</span> <span class="nav-text">常见日志（配置/读取）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本日志分析"><span class="nav-number">7.21.</span> <span class="nav-text">文本日志分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日志收集与预处理（收集，切割，格式化）"><span class="nav-number">7.22.</span> <span class="nav-text">日志收集与预处理（收集，切割，格式化）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日志分析（查找，统计）"><span class="nav-number">7.23.</span> <span class="nav-text">日志分析（查找，统计）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x08-入侵检测"><span class="nav-number">8.</span> <span class="nav-text">0x08 入侵检测</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#入侵检测（识别-amp-发现）"><span class="nav-number">8.1.</span> <span class="nav-text">入侵检测（识别 &amp; 发现）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#与安全体系的关系（受益-amp-补充）"><span class="nav-number">8.2.</span> <span class="nav-text">与安全体系的关系（受益 &amp; 补充）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部署位置"><span class="nav-number">8.3.</span> <span class="nav-text">部署位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检测方式（黑白名单）"><span class="nav-number">8.4.</span> <span class="nav-text">检测方式（黑白名单）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检测技术"><span class="nav-number">8.5.</span> <span class="nav-text">检测技术</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实时性（权衡与妥协）"><span class="nav-number">8.6.</span> <span class="nav-text">实时性（权衡与妥协）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#响应"><span class="nav-number">8.7.</span> <span class="nav-text">响应</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例（典型与广义的）"><span class="nav-number">8.8.</span> <span class="nav-text">实例（典型与广义的）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ModSecurity"><span class="nav-number">8.9.</span> <span class="nav-text">ModSecurity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSSEC"><span class="nav-number">8.10.</span> <span class="nav-text">OSSEC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#蜜罐（另辟蹊径）"><span class="nav-number">8.11.</span> <span class="nav-text">蜜罐（另辟蹊径）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x09-数据安全"><span class="nav-number">9.</span> <span class="nav-text">0x09 数据安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#问题现状"><span class="nav-number">9.1.</span> <span class="nav-text">问题现状</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解决（堵住缺口）"><span class="nav-number">9.2.</span> <span class="nav-text">解决（堵住缺口）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实际情况"><span class="nav-number">9.3.</span> <span class="nav-text">实际情况</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#问题发生时"><span class="nav-number">9.3.1.</span> <span class="nav-text">问题发生时</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#问题发生前"><span class="nav-number">9.3.2.</span> <span class="nav-text">问题发生前</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#问题原因"><span class="nav-number">9.3.3.</span> <span class="nav-text">问题原因</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#特点和难点"><span class="nav-number">9.3.4.</span> <span class="nav-text">特点和难点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方法"><span class="nav-number">9.3.5.</span> <span class="nav-text">解决方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据级别（抽象数据划分）"><span class="nav-number">9.3.6.</span> <span class="nav-text">数据级别（抽象数据划分）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#处置方式"><span class="nav-number">9.3.7.</span> <span class="nav-text">处置方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#注意事项"><span class="nav-number">9.3.8.</span> <span class="nav-text">注意事项</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x0A-应用安全"><span class="nav-number">10.</span> <span class="nav-text">0x0A 应用安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#应用开发（代码）"><span class="nav-number">10.1.</span> <span class="nav-text">应用开发（代码）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#容器与Filter-安全逻辑点"><span class="nav-number">10.2.</span> <span class="nav-text">容器与Filter(安全逻辑点)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其它关键点（针对性）"><span class="nav-number">10.3.</span> <span class="nav-text">其它关键点（针对性）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#中间件（大型网站架构）"><span class="nav-number">10.4.</span> <span class="nav-text">中间件（大型网站架构）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开发框架（决定应用安全难度）"><span class="nav-number">10.5.</span> <span class="nav-text">开发框架（决定应用安全难度）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见框架-软件"><span class="nav-number">10.6.</span> <span class="nav-text">常见框架/软件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#漏洞挖掘（多信息）"><span class="nav-number">10.7.</span> <span class="nav-text">漏洞挖掘（多信息）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fuzz-替换为攻击向量"><span class="nav-number">10.8.</span> <span class="nav-text">Fuzz(替换为攻击向量)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安全开发"><span class="nav-number">10.9.</span> <span class="nav-text">安全开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SDL（软件开发周期）"><span class="nav-number">10.10.</span> <span class="nav-text">SDL（软件开发周期）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x0B-密码学应用"><span class="nav-number">11.</span> <span class="nav-text">0x0B 密码学应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#现代密码学"><span class="nav-number">11.1.</span> <span class="nav-text">现代密码学</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分类（区别-amp-差别）"><span class="nav-number">11.2.</span> <span class="nav-text">分类（区别&amp;差别）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见加密算法（缺陷-场景）"><span class="nav-number">11.3.</span> <span class="nav-text">常见加密算法（缺陷/场景）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分组密码模式（解决什么问题-优缺点）"><span class="nav-number">11.4.</span> <span class="nav-text">分组密码模式（解决什么问题/优缺点）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#类型"><span class="nav-number">11.4.1.</span> <span class="nav-text">类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#填充与IV"><span class="nav-number">11.4.2.</span> <span class="nav-text">填充与IV</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Padding-Oracle"><span class="nav-number">11.5.</span> <span class="nav-text">Padding Oracle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#哈希算法（单向不可逆）"><span class="nav-number">11.6.</span> <span class="nav-text">哈希算法（单向不可逆）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#消息认证码（MAC不等同签名）"><span class="nav-number">11.7.</span> <span class="nav-text">消息认证码（MAC不等同签名）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加密传输"><span class="nav-number">11.8.</span> <span class="nav-text">加密传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#身份认证"><span class="nav-number">11.9.</span> <span class="nav-text">身份认证</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x0C-业务安全"><span class="nav-number">12.</span> <span class="nav-text">0x0C 业务安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#三类场景"><span class="nav-number">12.1.</span> <span class="nav-text">三类场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于规则（朴素方法）"><span class="nav-number">12.2.</span> <span class="nav-text">基于规则（朴素方法）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于模型（生成规则，升华规则）"><span class="nav-number">12.3.</span> <span class="nav-text">基于模型（生成规则，升华规则）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#逃逸机制"><span class="nav-number">12.4.</span> <span class="nav-text">逃逸机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#系统实现（框架）"><span class="nav-number">12.5.</span> <span class="nav-text">系统实现（框架）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对规则的保护（易忽视的点）"><span class="nav-number">12.6.</span> <span class="nav-text">对规则的保护（易忽视的点）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#非典型业务安全"><span class="nav-number">12.7.</span> <span class="nav-text">非典型业务安全</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迷惑（进一步保护规则）"><span class="nav-number">12.8.</span> <span class="nav-text">迷惑（进一步保护规则）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#评价指标（针对不同手段）"><span class="nav-number">12.9.</span> <span class="nav-text">评价指标（针对不同手段）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迷惑与陷阱（主动出击，人为制造差异）"><span class="nav-number">12.10.</span> <span class="nav-text">迷惑与陷阱（主动出击，人为制造差异）</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Firehacker</span>

  
</div>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

  <!-- <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>
-->





        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
